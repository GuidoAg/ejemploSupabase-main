import{a as A,b as F,c as I,d as g,e as h,f as N,g as R,h as W,i as z,j as B,l as q}from"./chunk-C4CCUJOU.js";import{a as J,b as x}from"./chunk-ES36K7YV.js";import"./chunk-5PDZ6P5C.js";import{Aa as D,Ca as U,Da as r,Ea as i,Fa as u,Ga as d,Ha as E,Ia as p,J as k,Ja as j,Ka as v,La as _,Ma as y,Oa as c,P as C,Pa as L,Qa as T,S as l,f as S,ka as w,na as m,oa as P,ya as O}from"./chunk-OAVZYULF.js";import{h as M}from"./chunk-RS6LHQUM.js";var f=J(x.apiUrl,x.publicAnonKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});var Q=(()=>{class e{constructor(n){this.router=n,this.username="",this.password=""}login(){f.auth.signInWithPassword({email:this.username,password:this.password}).then(({data:n,error:t})=>{t?console.error("Error:",t.message):this.router.navigate(["/home"])})}static{this.\u0275fac=function(t){return new(t||e)(P(h))}}static{this.\u0275cmp=l({type:e,selectors:[["app-login"]],standalone:!0,features:[c],decls:10,vars:2,consts:[[1,"login-container"],["type","text","placeholder","Username",1,"login-input",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"login-input",3,"ngModelChange","ngModel"],[1,"login-button",3,"click"],[1,"register-link-container"],["routerLink","../register",1,"register-link"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"h3"),p(2,"Login"),i(),r(3,"input",1),y("ngModelChange",function(s){return _(o.username,s)||(o.username=s),s}),i(),r(4,"input",2),y("ngModelChange",function(s){return _(o.password,s)||(o.password=s),s}),i(),r(5,"button",3),d("click",function(){return o.login()}),p(6," login "),i(),r(7,"div",4)(8,"a",5),p(9,"Register"),i()()()),t&2&&(m(3),v("ngModel",o.username),m(),v("ngModel",o.password))},dependencies:[q,W,z,B,N],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}.login-input[_ngcontent-%COMP%]{width:300px;padding:10px;margin:5px 0;border:1px solid #ccc;border-radius:4px}.login-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;cursor:pointer;border-radius:5px}.login-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-link-container[_ngcontent-%COMP%]{margin-top:20px}.register-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:14px}"]})}}return e})();var H=(()=>{class e{constructor(){this.userDataSubject=new S(null),this.userData$=this.userDataSubject.asObservable(),this.loadUserData()}loadUserData(){return M(this,null,function*(){let{data:n,error:t}=yield f.auth.getUser();if(t||!n.user){console.error("Error al obtener usuario auth:",t?.message);return}let o=n.user.id,{data:a,error:s}=yield f.from("users-data").select("*").eq("authId",o).single();s?console.error("Error al obtener datos del usuario:",s.message):this.userDataSubject.next(a)})}getAvatarUrl(n){return f.storage.from("images").getPublicUrl(n).data.publicUrl}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $(e,Z){if(e&1&&(r(0,"div",3),u(1,"img",4),r(2,"span",5),p(3),i()()),e&2){let n=Z,t=E();m(),D("src",t.getAvatarUrl(n.avatarUrl),w),m(2),j(n.name)}}var K=(()=>{class e{constructor(){this.userService=C(H),this.router=C(h),this.userData$=this.userService.userData$}navigate(n){this.router.navigate([n])}getAvatarUrl(n){return this.userService.getAvatarUrl(n)}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-navbar"]],standalone:!0,features:[c],decls:12,vars:3,consts:[[1,"navbar"],[1,"nav-buttons"],[3,"click"],[1,"user-info"],["alt","Foto de perfil",1,"profile-pic",3,"src"],[1,"username"]],template:function(t,o){if(t&1&&(r(0,"nav",0)(1,"div",1)(2,"button",2),d("click",function(){return o.navigate("home")}),p(3,"Inicio"),i(),r(4,"button",2),d("click",function(){return o.navigate("usuario")}),p(5,"Usuario"),i(),r(6,"button",2),d("click",function(){return o.navigate("quien-soy")}),p(7,"Qui\xE9n Soy"),i(),r(8,"button",2),d("click",function(){return o.navigate("juegos")}),p(9,"Juegos"),i()(),O(10,$,4,2,"div",3),L(11,"async"),i()),t&2){let a;m(10),U(10,(a=T(11,1,o.userData$))?10:-1,a)}},dependencies:[F,A],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_nghost-%COMP%]{display:block;font-family:Segoe UI,sans-serif;background-color:#f5f6fa}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#1e272e;padding:10px 20px;color:#fff}.nav-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;margin:0 10px;font-size:16px;cursor:pointer;transition:color .3s}.nav-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#00cec9}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;margin-right:10px}.username[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]})}}return e})();var V=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-layout"]],standalone:!0,features:[c],decls:3,vars:0,consts:[[1,"layout-content"]],template:function(t,o){t&1&&(u(0,"app-navbar"),r(1,"main",0),u(2,"router-outlet"),i())},dependencies:[g,K],styles:[".layout-content[_ngcontent-%COMP%]{padding:1rem;background-color:#f5f5f5;min-height:calc(100vh - 60px)}"]})}}return e})();var G=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Q},{path:"register",loadComponent:()=>import("./chunk-T4OTACKQ.js").then(e=>e.RegisterComponent)},{path:"",component:V,children:[{path:"home",loadComponent:()=>import("./chunk-MDAVEU7P.js").then(e=>e.HomeComponent)},{path:"usuario",loadComponent:()=>import("./chunk-PIAPDA74.js").then(e=>e.UsuarioComponent)},{path:"quien-soy",loadComponent:()=>import("./chunk-6JXYBTWL.js").then(e=>e.QuienSoyComponent)},{path:"juegos",loadComponent:()=>import("./chunk-OVNZ7GH3.js").then(e=>e.JuegosComponent)}]}];var X={providers:[R(G)]};var Y=(()=>{class e{constructor(){this.title="ejemploSupabase"}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=l({type:e,selectors:[["app-root"]],standalone:!0,features:[c],decls:1,vars:0,template:function(t,o){t&1&&u(0,"router-outlet")},dependencies:[g]})}}return e})();I(Y,X).catch(e=>console.error(e));
